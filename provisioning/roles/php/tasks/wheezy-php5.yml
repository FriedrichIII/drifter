- name: error when trying to use an invalid PHP version on wheezy
  fail: msg="Invalid PHP version {{ php_version }}."
  when: "{{ php_version | float }} != 5.6 and {{ php_version | float }} != 5.5 and {{ php_version | float }} != 5.4"

- name: Add DotDeb repository
  apt_repository: repo='{{ item }}' update_cache=yes
  with_items:
    - deb http://packages.dotdeb.org wheezy-php{{ php_version | replace('.', '') }} all
  sudo: yes
  when: "{{ php_version | float }} > 5.4"



